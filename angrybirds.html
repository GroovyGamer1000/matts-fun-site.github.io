<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Angry Birds</title>
  <link rel="stylesheet" href="style.css">

  <script>
    // Global Ruffle config
    window.RufflePlayer = window.RufflePlayer || {};
    window.RufflePlayer.config = {
      forceScale: "true",
      scale: "exactFit",
      autoplay: "on",
      quality: "low"
    };
  </script>

  <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>

  <style>
    /* Make it properly fill screen in fullscreen mode */
    #ruffle-container:fullscreen {
      width: 100vw !important;
      height: 100vh !important;
    }

    #ruffle-container:fullscreen ruffle-player {
      width: 100% !important;
      height: 100% !important;
    }
  </style>
</head>

<body>

  <p>
    <a href="https://groovygamer1000.github.io/matts-fun-site.github.io">Home</a> |
    <a href="https://groovygamer1000.github.io/matts-fun-site.github.io/games">Games</a> |
    <a href="https://groovygamer1000.github.io/matts-fun-site.github.io/videos">Videos</a>
  </p>

  <h1>Angry Birds</h1>

  <!-- Centered Game Section -->
  <div style="display: flex; justify-content: center; margin-top: 20px;">
    <div style="text-align: center;">
      
      <!-- Fullscreen Button -->
      <button id="fullscreen-btn" style="margin-bottom: 10px; padding: 10px 20px; font-weight: bold;">
        Play in Fullscreen
      </button>

      <div id="ruffle-container" style="width: 800px; height: 600px;"></div>

      <p style="margin-top: 10px; max-width: 800px; font-weight: bold;">
        Angry Birds is a fun and addictive physics-based game where you launch birds with special powers to smash structures and defeat the mischievous green pigs with colorful levels and creative challenges.
      </p>

      <!-- Back to Games Button -->
      <button id="back-to-games" style="margin-top: 15px; padding: 10px 20px; font-weight: bold;">
        Back to Games
      </button>

    </div>
  </div>

  <script>
    // Create and load Ruffle player
    function loadRuffle(containerId, swfPath, width = "800px", height = "600px") {
      const ruffle = window.RufflePlayer?.newest();
      const player = ruffle.createPlayer();
      const container = document.getElementById(containerId) || document.body;
      container.appendChild(player);
      player.style.width = width;
      player.style.height = height;
      player.load(swfPath);
      player.play();
    }

    window.addEventListener("DOMContentLoaded", function () {
      loadRuffle("ruffle-container", "assets/angry-birds.swf");

      const fullscreenBtn = document.getElementById("fullscreen-btn");
      const ruffleContainer = document.getElementById("ruffle-container");

      fullscreenBtn.addEventListener("click", function () {
        if (!document.fullscreenElement) {
          ruffleContainer.requestFullscreen().catch(err => {
            alert("Fullscreen error: " + err.message);
          });
        } else {
          document.exitFullscreen();
        }
      });

      document.getElementById("back-to-games").addEventListener("click", function () {
        window.location.href = "https://groovygamer1000.github.io/matts-fun-site.github.io/games.html";
      });
    });
  </script>

</body>
</html>
